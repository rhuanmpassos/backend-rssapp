# ===========================================
# DATABASE
# ===========================================
# PostgreSQL connection string (Supabase ou Render managed)
DATABASE_URL=postgresql://user:password@localhost:5432/rssapp?schema=public

# ===========================================
# SUPABASE (opcional - se usar como DB)
# ===========================================
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_KEY=your-supabase-anon-key

# ===========================================
# JWT / AUTH
# ===========================================
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_EXPIRES_IN=7d

# ===========================================
# YOUTUBE DATA API
# ===========================================
# Obter em: https://console.cloud.google.com/apis/credentials
# Habilitar: YouTube Data API v3
# Quota padrão: 10.000 unidades/dia
YOUTUBE_API_KEY=your-youtube-api-key

# ===========================================
# WEBSUB (PubSubHubbub)
# ===========================================
# Token para verificação de intent do hub
WEBSUB_VERIFY_TOKEN=your-random-verification-token
# URL pública do seu callback (ex: https://your-app.onrender.com/websub/callback)
WEBSUB_CALLBACK_URL=https://your-app.onrender.com/websub/callback

# ===========================================
# EXPO PUSH NOTIFICATIONS
# ===========================================
# Access token do Expo (opcional para notificações autenticadas)
# Obter em: https://expo.dev/accounts/[account]/settings/access-tokens
EXPO_ACCESS_TOKEN=your-expo-access-token

# ===========================================
# REDIS (Upstash ou local)
# ===========================================
# Para BullMQ queues e cache
REDIS_URL=redis://localhost:6379

# Upstash Redis (alternativa serverless)
UPSTASH_REDIS_REST_URL=https://your-upstash-url.upstash.io
UPSTASH_REDIS_REST_TOKEN=your-upstash-token

# ===========================================
# RENDER DEPLOY
# ===========================================
RENDER_SERVICE_ID=srv-xxxxxxxxxxxxx

# ===========================================
# SCRAPER / PLAYWRIGHT
# ===========================================
# Timeout para carregamento de páginas (ms)
PLAYWRIGHT_TIMEOUT=30000
# User agent para requests
USER_AGENT=RSSApp/1.0 (+https://github.com/your-repo)

# ===========================================
# CRON INTERVALS
# ===========================================
# Intervalo para verificar feeds RSS (minutos)
CRON_FEED_INTERVAL_MINUTES=10
# Intervalo para verificar canais YouTube (minutos)
CRON_YOUTUBE_INTERVAL_MINUTES=5

# ===========================================
# CONCURRENCY SETTINGS (Parallel Processing)
# ===========================================
# Número de feeds para processar por ciclo
CRON_FEED_BATCH_SIZE=50
# Número de feeds processados simultaneamente
CRON_FEED_CONCURRENCY=10
# Número de canais YouTube para processar por ciclo
CRON_YOUTUBE_BATCH_SIZE=30
# Número de canais processados simultaneamente
CRON_YOUTUBE_CONCURRENCY=6

# ===========================================
# RATE LIMITING
# ===========================================
# Delay mínimo entre requests para mesmo domínio (ms)
SCRAPER_POLITENESS_DELAY=2000
# Máximo de requests por minuto para YouTube API
YOUTUBE_MAX_REQUESTS_PER_MINUTE=60

# ===========================================
# SENTRY (Error Monitoring)
# ===========================================
SENTRY_DSN=https://xxxxx@sentry.io/xxxxx

# ===========================================
# RESIDENTIAL PROXY (Bright Data / Smartproxy)
# ===========================================
# Required for Youtubei.js to work in datacenter environments
# YouTube blocks datacenter IPs, so we need a residential proxy
PROXY_HOST=brd.superproxy.io
PROXY_PORT=33335
PROXY_USER=brd-customer-xxx-zone-residential
PROXY_PASS=your-proxy-password

# ===========================================
# APP CONFIG
# ===========================================
NODE_ENV=development
PORT=3000
API_PREFIX=api/v1

# ===========================================
# INSTRUÇÕES DE PERMISSÕES/QUOTAS
# ===========================================
# 
# YOUTUBE DATA API:
# - Acesse https://console.cloud.google.com/apis/library/youtube.googleapis.com
# - Habilite a API para seu projeto
# - Crie uma API Key em Credentials
# - Quota padrão: 10.000 unidades/dia
# - search.list = 100 unidades, videos.list = 1 unidade
#
# EXPO PUSH:
# - Crie conta em https://expo.dev
# - Para auth tokens: https://expo.dev/accounts/[account]/settings/access-tokens
# - Limite: 600 notificações/segundo
#
# UPSTASH REDIS:
# - Crie conta em https://upstash.com
# - Crie um database Redis
# - Copie REST URL e Token
# - Plano free: 10.000 comandos/dia
#
# SUPABASE:
# - Crie projeto em https://supabase.com
# - Copie URL e anon key de Settings > API
# - Plano free: 500MB database, 2GB bandwidth
#
# RENDER:
# - Deploy em https://render.com
# - Conecte repo GitHub
# - Configure variáveis de ambiente no dashboard

# COPIE ESTE ARQUIVO PARA .env E PREENCHA OS VALORES



